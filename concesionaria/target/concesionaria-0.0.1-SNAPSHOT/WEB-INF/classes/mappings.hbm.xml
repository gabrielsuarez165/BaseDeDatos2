<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
 "-//Hibernate/Hibernate Mapping DTD//EN"
 "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="FinalBDII">

	<!-- Clase Empresa -->

	<class name="Empresa" table="empresa">

		<id name="oid" type="long" column="idempresa"><generator class="increment" /></id>
		<property name="nombre" column="nombre" type="string" length="100" not-null="true" />
		<property name="direccion" column="direccion" type="string" length="100" not-null="true" />
		<property name="telefono" column="telefono" type="string" length="100" not-null="true" />	
		<set name="vehiculos" cascade="all"><key column="idempresa"/> <one-to-many class="Vehiculo"/></set>	
		<set name="clientes" cascade="all"><key column="idempresa"/> <one-to-many class="Cliente"/></set>	
		<set name="ventas" cascade="all"><key column="idempresa"/> <one-to-many class="Venta"/></set>

	</class>	

	<!-- Clase Vehiculo -->
	
	<class name="Vehiculo" table="vehiculo">

		<id name="oid" type="long" column="idvehiculo"><generator class="increment"/></id>
		<property name="patente" column="patente" type="string" length="100" not-null="true" />
		<property name="marca" column="marca" type="string" length="100" not-null="true" />
		<property name="modelo" column="modelo" type="string" length="100" not-null="true" />
		<property name="color" column="color" type="string" length="100" not-null="true" />
		<property name="precio" column="precio" type="long"  not-null="true" />
		<set name="revisiones" cascade="all"><key column="idvehiculo"  /><one-to-many class="Revision"/></set>

	</class>

	<!-- Clase Cliente -->

	<class name="Cliente" table="cliente">

		<id name="oid" type="long" column="idcliente"><generator class="increment"/></id>
		<property name="dni" column="dni" type="long"  not-null="true" />
		<property name="nombre" column="nombre" type="string" length="100" not-null="true" />
		<property name="direccion" column="direccion" type="string" length="100" not-null="true" />
		<property name="ciudad" column="ciudad" type="string" length="100" not-null="true" />
		<property name="telefono" column="telefono" type="string" length="100" not-null="true" />

	</class>

	<!-- Clase Venta -->

	<class name="Venta" table="venta">

		<id name="oid" type="long" column="idventa"><generator class="increment" /></id>
		<property name="montototal" column="montototal" type="long"  not-null="true" />
		<property name="fecha" column="fecha" type="timestamp"/>
		<many-to-one name="cliente" column="idcliente" not-null="true" cascade="all"/>
		<many-to-one name="vehiculo" column="idvehiculo" not-null="true" cascade="all"/>	
	</class>

	<!-- Clase Revision -->

	<class name="Revision" table="revision">

		<id name="oid" type="long" column="idrevision"><generator class="increment" /></id>
		<property name="fecha" column="fecha" type="timestamp"/>
		<property name="filtros" column="filtros" type="boolean"/>
		<property name="aceite" column="aceite" type="boolean"/>
		<property name="frenos" column="frenos" type="boolean"/>
		<property name="revisionmotor" column="revisionmotor" type="boolean"/>

	</class>


	
</hibernate-mapping>